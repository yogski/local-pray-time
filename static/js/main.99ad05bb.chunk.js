(this["webpackJsonplocal-pray-time"]=this["webpackJsonplocal-pray-time"]||[]).push([[0],{129:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a(0),i=a.n(r),n=a(12),c=a.n(n),l=(a(59),a(14)),u=a(15),o=a(18),d=a(17),p=(a(60),a(61),a(62),a(63),a(64),a(48)),m=a(7),h=a(42),j=a(43),b=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{className:"display-value",children:"About"}),Object(s.jsx)("p",{children:"Local Pray Time, by Yogi Saputro"}),Object(s.jsx)("p",{})]})}}]),a}(r.Component),x=a(13),y=a.n(x),f=a(23),v=a(19),g=a(16),O=a(22),N=a.n(O),_=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"getIP",value:function(){var e=Object(v.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("https://icanhazip.com");case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",{ip:t.data});case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("[function: getIP]:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getGeolocationFromIP",value:function(){var e=Object(v.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("https://www.iplocate.io/api/lookup/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",{country:a.data.country?a.data.country:"N/A",city:a.data.city?a.data.city:"N/A",latitude:a.data.latitude?a.data.latitude:"N/A",longitude:a.data.longitude?a.data.longitude:"N/A"});case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("[function: getGeolocationFromIP]:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPrayTime",value:function(){var e=Object(v.a)(y.a.mark((function e(t,a){var s,r,i,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("https://api.pray.zone/v2/times/today.json?longitude=".concat(a,"&latitude=").concat(t));case 3:if(200!==(s=e.sent).status){e.next=13;break}return r=new Date,i=["Ahad","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"][r.getDay()],n=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][r.getMonth()],e.abrupt("return",{imsak:s.data.results.datetime[0].times.Imsak?s.data.results.datetime[0].times.Imsak:"N/A",subuh:s.data.results.datetime[0].times.Fajr?s.data.results.datetime[0].times.Fajr:"N/A",dzuhur:s.data.results.datetime[0].times.Dhuhr?s.data.results.datetime[0].times.Dhuhr:"N/A",ashar:s.data.results.datetime[0].times.Asr?s.data.results.datetime[0].times.Asr:"N/A",maghrib:s.data.results.datetime[0].times.Maghrib?s.data.results.datetime[0].times.Maghrib:"N/A",isya:s.data.results.datetime[0].times.Isha?s.data.results.datetime[0].times.Isha:"N/A",date_masehi:"".concat(i,", ").concat(r.getDate()," ").concat(n," ").concat(r.getFullYear()),time_offset:s.data.results.location.local_offset?s.data.results.location.local_offset:"N/A",time_format:s.data.results.settings.timeformat?s.data.results.settings.timeformat:"N/A"});case 13:return e.abrupt("return",null);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("[function: getGeolocationFromIP]:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),k=a(44),w=a(47),P=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).renderer=function(e){var t=e.hours,a=e.minutes,i=e.seconds;if(!e.completed)return Object(s.jsxs)("span",{children:[t," jam ",a," menit ",i," detik menuju ",r.state.next_pray_time]});r.forceUpdate()},r.request=new _,r.prayTimes=["subuh","dzuhur","ashar","maghrib","isya"],r.state={is_loading:!1,is_error:!1,next_pray_time:null,next_pray_date:null,current_pray_time:null,error_message:null},r.getNextPrayDate=r.getNextPrayDate.bind(Object(g.a)(r)),r}return Object(u.a)(a,[{key:"init",value:function(){var e=Object(v.a)(y.a.mark((function e(){var t,a,s,r=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({is_loading:!0}),e.next=4,this.request.getIP();case 4:return t=e.sent,e.next=7,this.request.getGeolocationFromIP(t.ip);case 7:return a=e.sent,e.next=10,this.request.getPrayTime(a.latitude,a.longitude);case 10:s=e.sent,this.setState(Object(f.a)(Object(f.a)(Object(f.a)({is_loading:!1,next_pray_time:this.getNextPrayName(s),next_pray_date:this.getNextPrayDate(s),current_pray_time:this.getCurrentPrayTime(s)},t),a),s),(function(){return console.log(r.state)})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this.setState({is_error:!0,error_message:e.t0});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNextPrayName",value:function(e){var t=new Date,a=this.prayTimes.map((function(a){return 60*Number(e[a].split(":")[0])+Number(e[a].split(":")[1])>60*t.getHours()+t.getMinutes()})).indexOf(!0);return a>-1?this.prayTimes[a]:null}},{key:"getNextPrayIndex",value:function(e){var t=new Date;return this.prayTimes.map((function(a){return 60*Number(e[a].split(":")[0])+Number(e[a].split(":")[1])>60*t.getHours()+t.getMinutes()})).indexOf(!0)}},{key:"getNextPrayDate",value:function(e){var t=new Date,a=this.getNextPrayName(e);if(a){var s=e[a].split(":");return t.setHours(s[0]),t.setMinutes(s[1]),t.getTime()}return null}},{key:"getCurrentPrayTime",value:function(e){var t=this.getNextPrayIndex(e);return 0===t?null:this.prayTimes[t-1]}},{key:"componentDidMount",value:function(){this.init()}},{key:"render",value:function(){var e=this.state.is_loading,t=this.state.is_error;return e?Object(s.jsxs)("div",{className:"loader",children:[Object(s.jsx)(k.BlockLoading,{}),Object(s.jsx)("p",{children:"Receiving data ..."})]}):t?Object(s.jsx)("div",{children:alert(this.state.error_message)}):Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"p-grid p-align-center p-mt-6",children:[Object(s.jsx)("div",{className:"p-col-12 display-title",children:"Jadwal Sholat Hari Ini"}),Object(s.jsx)("div",{className:"p-col-12 display-value",children:Object(s.jsxs)("b",{children:[Object(s.jsx)("i",{className:"pi pi-calendar",style:{fontSize:"2rem"}})," ",this.state.date_masehi," (UTC",parseInt(this.state.time_offset)>=0?"+".concat(this.state.time_offset):"-".concat(this.state.time_offset),")"]})})]}),Object(s.jsxs)("div",{className:"p-grid p-align-center p-mt-6",children:[Object(s.jsx)("div",{className:"p-col-12 display-title",children:"Lokasi Terdeteksi"}),Object(s.jsx)("div",{className:"p-col-12 display-value",children:Object(s.jsxs)("b",{children:[Object(s.jsx)("i",{className:"pi pi-map-marker",style:{fontSize:"2rem"}})," ",this.state.city,", ",this.state.country]})})]}),Object(s.jsxs)("div",{className:"p-grid p-align-center p-mt-6",children:[Object(s.jsxs)("div",{className:"p-col p-d-flex p-flex-column p-mx-sm-3 ".concat("subuh"===this.state.current_pray_time?"highlight-current-pray":""),children:[Object(s.jsx)("div",{className:"display-title",children:" Subuh "}),Object(s.jsx)("div",{className:"display-value",children:this.state.subuh})]}),Object(s.jsxs)("div",{className:"p-col p-d-flex p-flex-column p-mx-sm-3 ".concat("dzuhur"===this.state.current_pray_time?"highlight-current-pray":""),children:[Object(s.jsx)("div",{className:"display-title",children:" Dzuhur "}),Object(s.jsx)("div",{className:"display-value",children:this.state.dzuhur})]}),Object(s.jsxs)("div",{className:"p-col p-d-flex p-flex-column p-mx-sm-3 ".concat("ashar"===this.state.current_pray_time?"highlight-current-pray":""),children:[Object(s.jsx)("div",{className:"display-title",children:" Ashar "}),Object(s.jsx)("div",{className:"display-value",children:this.state.ashar})]}),Object(s.jsxs)("div",{className:"p-col p-d-flex p-flex-column p-mx-sm-3 ".concat("maghrib"===this.state.current_pray_time?"highlight-current-pray":""),children:[Object(s.jsx)("div",{className:"display-title",children:" Maghrib "}),Object(s.jsx)("div",{className:"display-value",children:this.state.maghrib})]}),Object(s.jsxs)("div",{className:"p-col p-d-flex p-flex-column p-mx-sm-3 ".concat("isya"===this.state.current_pray_time?"highlight-current-pray":""),children:[Object(s.jsx)("div",{className:"display-title",children:" Isya "}),Object(s.jsx)("div",{className:"display-value",children:this.state.isya})]})]}),Object(s.jsx)("div",{className:"p-grid p-align-center p-mt-6",children:Object(s.jsx)("div",{className:"p-col-12",children:Object(s.jsx)(w.a,{date:this.state.next_pray_date,renderer:this.renderer})})}),Object(s.jsx)("div",{className:"stars"})]})}}]),a}(r.Component),A=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).items=[{label:"Menu",items:[{label:"Home",icon:"pi pi-home",command:function(){window.location="/"}},{label:"About",icon:"pi pi-info",command:function(){window.location="/about"}}]}],s}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"p-p-4 app-bkg",children:Object(s.jsxs)("div",{className:"app-inner-bkg",children:[Object(s.jsxs)("div",{className:"header-menu",children:[Object(s.jsx)(h.Menu,{model:this.items,popup:!0,ref:function(t){return e.menu=t},id:"popup_menu"}),Object(s.jsx)(j.Button,{icon:"pi pi-bars",className:"p-button-rounded p-button-secondary p-button-outlined",onClick:function(t){return e.menu.toggle(t)},"aria-controls":"popup_menu","aria-haspopup":!0})]}),Object(s.jsx)(p.a,{children:Object(s.jsxs)(m.c,{children:[Object(s.jsx)(m.a,{exact:!0,path:"/about",children:Object(s.jsx)(b,{name:"you"})}),Object(s.jsx)(m.a,{path:"/",children:Object(s.jsx)(P,{})})]})})]})})}}]),a}(i.a.Component),I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,130)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,n=t.getTTFB;a(e),s(e),r(e),i(e),n(e)}))},D=a(50);a.n(D).a.ripple=!0,c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(A,{})}),document.getElementById("root")),I()},59:function(e,t,a){},60:function(e,t,a){}},[[129,1,2]]]);
//# sourceMappingURL=main.99ad05bb.chunk.js.map